(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(3),o=s.n(r);s(13);const c=e=>{let{rows:t,cols:s,images:a}=e;return n.a.createElement("div",{className:"grid",style:{display:"grid",gridTemplateColumns:`repeat(${s}, 1fr)`,gridTemplateRows:`repeat(${t}, 1fr)`,width:"100vw",height:"100vh",overflow:"hidden"}},Array.from({length:t}).map((e,t)=>Array.from({length:s}).map((e,s)=>{const r=`${t}-${s}`,o=a[r],c=o&&o.success&&o.src,l=c?"green":"red";return n.a.createElement("div",{key:r,style:{border:"1px solid black",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}},c?n.a.createElement("img",{src:o.src,alt:`QR (${t}, ${s})`,style:{width:"80%",objectFit:"cover"}}):n.a.createElement("span",null,o&&204===o.status?o.status:"No Image"),o&&o.status&&n.a.createElement("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"rgba(255, 255, 255, 0.8)",padding:"2px 4px",fontSize:"0.8rem"}},o.status),n.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"5px",backgroundColor:l}}))})))};var l=()=>{const[e,t]=Object(a.useState)(0),[s,r]=Object(a.useState)(0),[o,l]=Object(a.useState)({});return Object(a.useEffect)(()=>{(async()=>{try{const s=await fetch("/config.json"),a=await s.json();t(a.rows),r(a.cols)}catch(e){console.error("Hiba a konfigur\xe1ci\xf3 lek\xe9r\xe9sekor:",e)}})()},[]),Object(a.useEffect)(()=>{if(0===e||0===s)return;const t=async()=>{const t={},a=[];for(let n=0;n<e;n++)for(let e=0;e<s;e++){const s=`${n}-${e}`,r=fetch(`/image?x=${n}&y=${e}`).then(e=>{const t=e.status;return 204===t?{data:null,status:t}:e.json().then(e=>({data:e,status:t}))}).then(e=>{let{data:a,status:n}=e;a&&a.img?t[s]={src:`data:image/png;base64,${a.img}`,success:!0,status:n}:t[s]={success:!1,status:n}}).catch(()=>{t[s]={success:!1,status:404}});a.push(r)}await Promise.all(a),l(t)};t();const a=setInterval(t,5e3);return()=>clearInterval(a)},[e,s]),n.a.createElement("div",null,n.a.createElement(c,{rows:e,cols:s,images:o}))};var i=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,15)).then(t=>{let{getCLS:s,getFID:a,getFCP:n,getLCP:r,getTTFB:o}=t;s(e),a(e),n(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l,null))),i()},4:function(e,t,s){e.exports=s(14)}},[[4,1,2]]]);
//# sourceMappingURL=main.b213d3d3.chunk.js.map